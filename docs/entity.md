# Объявление сущностей

Для объявления собственных сущностей, достаточно унаследовать поведение класса 
_Entity_. Этот класс определяет следующие ограничения:

- Первичным ключем таблицы должно являться поле _id_. Одноименное свойство 
  используется в сущностях для хранения значения первичного ключа
- Все проецируемые свойства сущности должны быть объявлены в публичной (public) 
  области видимости
- Конструктор класса не должен иметь обязательных аргументов

Пример объявления собственной сущности:
```php
use Bricks\Storage\Relation\Mapper\Entity;

class Message extends Entity{
  public $user;

  public $message;
}
```

Однако для работы с классом _Mapper_ достаточно экземпляров класса _Entity_.  
Расширение данного класса оправдано только в случае, если необходимо определить 
структуру сущностей на декларативном уровне, либо дополнить сущности 
бизнес-логикой.

Если необходимо, чтобы используемый экземпляр класса _Mapper_ возвращал 
экземпляры собственного класса сущности, необходимо задать его явно с помощью 
метода _prototype_, иначе в качестве прототипа будет использован класс _Entity_.

```php
$mapper = new Mapper(...);
$mapper->prototype('Message');
$message = $mapper->fetch(5);
var_dump(get_class($message)); // 'Message'
```
